{% load crispy_forms_tags %}
<!-- style="width: 131.6% !important;" -->

<div class="mt-4 mb-4 new-line-form" hx-target="this" hx-swap="outerHTML">
    <form method="post">
        {% csrf_token %}
        <!-- {{form.as_table}} -->
        {{form|crispy}}
        
        {% if line %}
        <button hx-post="{% url 'products:update-line' line.id %}" class="btn btn-info">تعديل</button>   
        
        <button hx-get="{% url 'products:detail-line' line.id %}" type="button"
        class="ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
        Cancel
        </button>
        {% else %}
         <button hx-post="." class="btn btn-info ">اضافه</button>  
         
         <button type="button"
         class="btn-hide-new-line-form ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
         Cancel
         </button> 

        {% endif %}
            
        
        <!-- <button>close</button> -->
    </form>
</div>





<script>
    $(".btn-hide-new-line-form").on("click",function(){
        $(".new-line-form").css("display","none")
    })
</script>





{% comment %} {% load tailwind_filters %} {% endcomment %}
{% comment %} {% load crispy_forms_tags %}
<tr>
<td hx-target="this" hx-swap="outerHTML" class="mt-3 py-3 px-3 bg-white shadow border border-gray-100">
    <form style="display:flex" method="POST">
        {% csrf_token %}
        {{ form|crispy }}
        {% if line %}

        <button class="inline-flex items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" hx-post="{% url 'products:update-line' line.id %}">تعديل</button>   

        {% else %}

        <button class="inline-flex items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" hx-post=".">اضافه</button>   
        {% endif %}
    </form>
</td>


</tr> {% endcomment %}
